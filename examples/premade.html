<html>
    <head>
        <style>
            body,
            html {
                margin: 0;
                background: black;
            }

            #viewport {
                width: 1280px;
                height: 720px;
            }
        </style>
    </head>

    <body>
        <div id="viewport"></div>

        <script src="../node_modules/three/build/three.min.js"></script>
        <script src="../dist/tetsuo.min.js"></script>

        <script>
            let scene = new TETSUO.Scene({ dev: true, autoStart: true });

            let three = new TETSUO.THREENode("three", scene.renderer, {
                cameraSettings: { far: 1000, fov: 40 },
            });

            let cylinder = new TETSUO.Premade.Cylinder();
            cylinder.prepare().then((mesh) => {
                mesh.position.set(-3, -1.5, -12);
                three.add(mesh);
            });

            let light = new THREE.DirectionalLight(0xffffff, 1);
            light.position.set(20, 20, 20);
            three.add(light);

            let face = new TETSUO.Premade.Face({
                geometryPath: "./res/face.json",
            });
            face.prepare().then((mesh) => {
                mesh.position.z = -5;
                mesh.position.x = 1;
                mesh.rotation.x = Math.PI;
                three.add(mesh);
            });

            three.onUpdate((time) => {
                cylinder.update(time);
                face.update(time, {
                    color: new THREE.Vector3(
                        Math.cos(time * 2),
                        1,
                        Math.sin(time * 2)
                    ),
                });
            });

            scene.connectToScreen(three);
        </script>
    </body>
</html>
